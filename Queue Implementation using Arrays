/*

  Queue Implementation using Arrays in C 
  By: Bhava0405
  
*/


#include<stdio.h>
#define MAX 5 // DT: why you are allowing only 5 elements only? Can you automatically increase the size of the queue if MAX is reached?
int queue[MAX]; // Now, the queue is storing only the INT data. How will you make it to store FLOAT, STRING, or even USER DEFINED data types like structures? Make a generic queue
int front=0,rear=0;

void enqueue(int data) 
{
    rear=(rear+1)%MAX;
    if(front==rear)
    {
        printf("queue is full");
        if(rear==0)
        {
            rear=MAX-1;
        }
        else
        {
            rear=rear-1; // What is that, you are doing by all these MAX-1, rear-1? Explain.. 
            return;
        }
    }
    queue[rear]=data; // Now., you are overwriting the data. If the queue is full, you need to tell the user that, it is full. You should not overwrite an existing data.
}

void dequeue()
{
    if(front==rear)
    {
        printf("queue is empty");
        return;
    }
    front=(front+1)%MAX; // Instead of making the dequeue not returning anything, make it to return the element. you dont need to wait until peek gets called to know the element..
}

//returning the top element

int peek()
{
    return queue[front];
}

void main()
{
    int x,y;
    enqueue(10);
    enqueue(20);
    enqueue(30);
    dequeue();
    x=peek();
    dequeue();
    y=peek();
    printf("%d\n",x);
    printf("%d",y);
}
